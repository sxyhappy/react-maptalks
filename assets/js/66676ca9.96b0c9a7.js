(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[411],{6881:function(e,n,t){"use strict";t.r(n),t.d(n,{frontMatter:function(){return s},metadata:function(){return c},toc:function(){return p},default:function(){return m}});var a=t(7560),o=t(8283),r=(t(2784),t(876)),i=["components"],s={sidebar_label:"Map",sidebar_position:1},c={unversionedId:"components/map",id:"components/map",isDocsHomePage:!1,title:"MtMap",description:"Example",source:"@site/docs/components/map.mdx",sourceDirName:"components",slug:"/components/map",permalink:"/react-maptalks/docs/components/map",editUrl:"https://github.com/facebook/docusaurus/edit/master/website/docs/components/map.mdx",version:"current",sidebar_label:"Map",sidebarPosition:1,frontMatter:{sidebar_label:"Map",sidebar_position:1},sidebar:"tutorialSidebar",previous:{title:"\u5feb\u901f\u4e0a\u624b",permalink:"/react-maptalks/docs/intro"},next:{title:"MtMap",permalink:"/react-maptalks/docs/components/tile-layer"}},p=[{value:"Example",id:"example",children:[]}],l={toc:p};function m(e){var n=e.components,t=(0,o.Z)(e,i);return(0,r.kt)("wrapper",(0,a.Z)({},l,t,{components:n,mdxType:"MDXLayout"}),(0,r.kt)("h2",{id:"example"},"Example"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-jsx",metastring:"live=true",live:"true"},"function MapExample() {\n  const ref = useRef();\n  const [view, setView] = useState({ center: [-0.113049,51.49856], pitch: 0 });\n\n  const handleMapReady = map => {\n    console.log(map);\n  }\n\n  const handleViewChange = view => {\n    setView(view.new)\n  }\n\n  useEffect(() => {\n    if (ref.current) {\n      console.log('ref current', ref.current)\n    }\n  }, [ref])\n\n  return (\n    <div style={{height: 400}}>\n      <button onClick={() => setView({ ...view, center: [-0.12,51.49] })}>\u8bbe\u7f6e\u4e2d\u5fc3</button>\n      <button onClick={() => setView({ ...view, pitch: 50 })}>\u8bbe\u7f6e\u503e\u659c</button>\n      <div>{JSON.stringify(view)}</div>\n      <MtMap\n        {...view}\n        onReady={handleMapReady}\n        ref={map => {console.log('map', map); ref.current = map}}\n        onViewchange={handleViewChange}\n      >\n        <MtTileLayer\n          id={\"base\"}\n          urlTemplate=\"https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}.png\"\n          subdomains={['a','b','c','d']}\n          attribution={'&copy; <a href=\"http://osm.org\">OpenStreetMap</a> contributors, &copy; <a href=\"https://carto.com/\">CARTO</a>'}\n        />\n      </MtMap>\n    </div>\n  )\n}\n\n")))}m.isMDXComponent=!0}}]);